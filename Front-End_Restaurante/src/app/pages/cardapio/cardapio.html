<div class="cardapio-container">
  <!-- Header do Card√°pio -->
  <div class="header-cardapio">
    <div class="header-content">
      <img src="/assets/imgs/logo.png" alt="Logo Bella Piatto" class="logo">
      <div class="header-text">
        <h1>Card√°pio Bella Piatto</h1>
        <p>Sabores aut√™nticos da It√°lia</p>
      </div>
      <div class="header-nav">
        <button class="btn-nav" (click)="voltarInicio()">üè† In√≠cio</button>
        

        @if (quantidadeItensCarrinho > 0) {
          <div class="carrinho-info">
            üõí {{ quantidadeItensCarrinho }} itens - R$ {{ totalCarrinho.toFixed(2) }}
          </div>
        }

      </div>
    </div>
  </div>

  <!-- Filtros por Categoria -->
  <div class="categorias-filter">
    <button 
      *ngFor="let categoria of categorias" 
      [class.active]="categoria === categoriaSelecionada"
      (click)="filtrarPorCategoria(categoria)"
      class="btn-categoria">
      {{ categoria }}
    </button>
  </div>

  <!-- Grid de Produtos -->
  <div class="grid-cardapio">
    <div *ngFor="let produto of produtosFiltrados" 
         class="card-produto" 
         [class.indisponivel]="!produto.disponivel">
      
      <div class="produto-imagem">
        <img [src]="produto.imagemUrl" [alt]="produto.nome">
        <div class="categoria-badge">{{ produto.categoria }}</div>

        @if (!produto.disponivel) {
          <div class="status-badge">Indispon√≠vel</div>
        }

      </div>

      <div class="produto-info">
        <h3>{{ produto.nome }}</h3>
        <p class="descricao">{{ produto.descricao }}</p>
        
        <div class="produto-footer">
          <span class="preco">R$ {{ produto.preco.toFixed(2) }}</span>
          <button 
            class="btn-adicionar" 
            [disabled]="!produto.disponivel"
            (click)="adicionarAoCarrinho(produto)">

            @if (produto.disponivel) {
              <span>üõí Adicionar</span>
            }
            @else {
              <span>Indispon√≠vel</span>
            }

          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Carrinho Resumo -->
  @if (carrinho.length > 0) {
    <div class="carrinho-resumo">
      <h3>Seu Pedido</h3>
      <div class="carrinho-items">
        <div *ngFor="let item of carrinho" class="carrinho-item">
          <span>{{ item.produto.nome }}</span>
          <span>{{ item.quantidade }}x</span>
          <span>R$ {{ (item.produto.preco * item.quantidade).toFixed(2) }}</span>
        </div>
      </div>
      <div class="carrinho-total">
        <strong>Total: R$ {{ totalCarrinho.toFixed(2) }}</strong>
      </div>
      <button class="btn-finalizar" (click)="finalizarPedido()">Finalizar Pedido</button>
    </div>
  }

</div>