<section class="login-cliente-section">

  <article class="login-cliente-conteiner">

    <div class="header">
      <img src="./svg/bem_vindo.svg" alt="Bem Vindos">
      <h2>{{ isRegistrado ? 'Criar Conta' : 'Login Cliente' }}</h2>
      <p>{{ isRegistrado ? 'Cadastre-se e faça seus pedidos' : 'Acesse sua conta e faça seus pedidos' }}</p>
      <p>{{"isRegistrado: " + this.isRegistrado}}</p>
    </div>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="login-form">

      

      @if (isRegistrado) {
        <ng-container>
          <div class="form-group">
            <label for="nome">
              <i class="icon-user"></i>
              Nome Completo
            </label>
            <input type="text" id="nome" formControlName="nome" placeholder="Nome completo">
          </div>
        
          <div class="form-group">
            <label for="telefone">
              <i class="icon-phone"></i>
              Telefone
            </label>
            <input type="tel" id="telefone" formControlName="telefone" placeholder="(00) 00000-0000">
          </div>
        
          <div class="form-group">
            <label for="endereco">
              <i class="icon-location"></i>
              Endereço (opcional)
            </label>
            <input type="text" id="endereco" formControlName="endereco" placeholder="Endereço (opcional)">
          </div>
        </ng-container>
      }

      <div class="form-group">
        <label for="email">
          <i class="icon-email"></i>
          E-mail
        </label>
        <input type="email" id="email" formControlName="email" placeholder="Digite seu e-mail">
      </div>

      <div class="form-group">
        <label for="senha">
          <i class="icon-lock"></i>
          Senha
        </label>
        <input type="password" id="senha" formControlName="senha" placeholder="Digite sua senha">
      </div>

      @if (erro) {
        <div class="error-message">
          {{ erro }}
        </div>
      }

      <div class="form-actions">
        <button type="button" class="btn-voltar" (click)="voltarSelecao()">
          ← Voltar
        </button>
        <button type="submit" class="btn-entrar" [disabled]="isLoading">
          {{ isLoading ? 'Processando...' : (isRegistrado ? 'Cadastrar' : 'Entrar') }}
        </button>
      </div>

      <div class="toggle-section">

        @if (!isRegistrado) {
          <p>
            Ainda não tem conta?
            <a href="javascript:void(0)" (click)="toggleRegistro(); $event.preventDefault()">Cadastre-se aqui</a>
          </p>
        }
        @else {
          <p>
            Já tem conta?
            <a href="javascript:void(0)" (click)="toggleRegistro(); $event.preventDefault()">Faça login</a>
          </p>
        }

      </div>

      @if (!isRegistrado) {
        <div class="links">
          <a href="javascript:void(0)" (click)="recuperarSenha()">Esqueci minha senha</a>
          <a href="javascript:void(0)" (click)="toggleRegistro(); $event.preventDefault()">Cadastrar</a>
        </div>
      }

    </form>
  </article>

  <aside class="login-cliente-img">
    <img src="" alt="Pratos de login">
  </aside>

</section>
